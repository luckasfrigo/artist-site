!function(){"use strict";!function t(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",t);function i(t){for(var e=t.target;e&&e.tagName&&!e.hasAttribute("data-webcomic-search");)e=e.parentNode;return e&&e.tagName&&e.hasAttribute("data-webcomic-search")?e:{}}document.addEventListener("click",function(t){if("img"!==t.target.tagName.toLowerCase())return;var e=t.target;for(;e.tagName&&!e.hasAttribute("data-id");)e=e.parentNode;if(e&&e.tagName&&e.hasAttribute("data-id"))return;var a=i(t);if(!a)return;!function(t,e){if(e.classList.contains("contain"))return e.querySelector("p").style.display=null,e.classList.remove("contain"),e.style.height="auto";var a=Number(t.target.getAttribute("width")),r=Number(t.target.getAttribute("height")),n=r/2*(a/r);e.querySelector("p").style.display="none",e.classList.add("contain"),e.style.height="".concat(n,"px")}(t,a)}),document.addEventListener("click",function(t){var e=t.target;for(;e&&e.tagName&&!e.hasAttribute("data-id");)e=e.parentNode;if(!e||!e.tagName||!e.hasAttribute("data-id"))return;var a=i(t);if(!a)return;var r=new FormData,n=new XMLHttpRequest;r.append("action","webcomic_transcript_comic_search"),r.append("post",e.getAttribute("data-id")),n.onreadystatechange=function(){if(4===n.readyState){var t=document.createElement("p"),e="";"true"===n.responseText&&(e=" checked"),t.innerHTML='\n\t\t\t\t<label class="selectit">\n\t\t\t\t\t<input type="hidden" name="webcomic_transcribe">\n\t\t\t\t\t<input type="checkbox" name="webcomic_transcribe" value="1"'.concat(e,">\n\t\t\t\t\t").concat(webcomicTranscriptL10n.allow,"\n\t\t\t\t</label>\n\t\t\t"),a.parentNode.insertBefore(t,a)}},n.open("POST",ajaxurl),n.send(r)}),document.addEventListener("click",function(t){if("a"!==t.target.tagName.toLowerCase())return;var e=i(t);if(!e||!e.parentNode||!e.parentNode.querySelector("p"))return;e.parentNode.querySelector("p").parentNode.removeChild(e.parentNode.querySelector("p")),e.classList.remove("contain"),e.style.height="auto"})}()}();
