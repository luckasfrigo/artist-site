!function(){"use strict";!function t(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",t);function d(n,a){var t=document.querySelector('[name="'.concat(n.getAttribute("data-input"),'"]')),e=new FormData,c=new XMLHttpRequest;t.value=a,t.value!==a&&t.dispatchEvent(new Event("change",{bubbles:!0})),e.append("action","webcomic_update_comic_search"),e.append("post",a),e.append("size",n.getAttribute("data-size")),c.onreadystatechange=function(){var t,e;if(4===c.readyState)return a?(t=n,e=JSON.parse(c.responseText),t.innerHTML='\n\t\t\t<p>\n\t\t\t\t<a class="dashicons dashicons-no">\n\t\t\t\t\t<span class="screen-reader-text">'.concat(webcomicSearchL10n.remove,"</span>\n\t\t\t\t</a>\n\t\t\t\t<strong>").concat(e.title,"</strong>\n\t\t\t</p>\n\t\t\t").concat(e.media),void t.querySelector("a").addEventListener("click",function(){d(t,0)})):(function(i){i.querySelector("input")||(i.innerHTML='<input type="search" id="'.concat(i.getAttribute("data-webcomic-search"),'" class="widefat" placeholder="').concat(webcomicSearchL10n.search,'">'));i.querySelector("div")||(i.innerHTML+="<div></div>");i.querySelector("input").addEventListener("input",function(t){var e,n,a,c;e=i,n=t.target.value,a=new FormData,c=new XMLHttpRequest,a.append("action","webcomic_update_comic_search"),a.append("query",n),c.onreadystatechange=function(){4===c.readyState&&function(e,t,n){for(var a='<table class="widefat fixed striped media">',c=0;c<n.length;c++)a+='\n\t\t\t<tr data-id="'.concat(n[c].ID,'">\n\t\t\t\t<td class="title column-title column-primary">\n\t\t\t\t\t<strong class="has-media-icon">\n\t\t\t\t\t\t<span class="media-icon image-icon">').concat(n[c].webcomic_media,"</span>\n\t\t\t\t\t\t").concat(n[c].post_title,"\n\t\t\t\t\t</strong>\n\t\t\t\t\t<p>").concat(n[c].status_label,"</p>\n\t\t\t\t</td>\n\t\t\t</tr>");if(t&&!n.length&&(a+="<tr><td>".concat(webcomicSearchL10n.null,"</td></tr>")),a+="</table>",e.querySelector("div").innerHTML=a.replace('<table class="widefat fixed striped media"></table>',"<small>".concat(webcomicSearchL10n.info,"</small>")),n)for(var i=e.querySelectorAll("[data-id]"),r=function(t){i[t].addEventListener("click",function(){d(e,Number(i[t].getAttribute("data-id")))})},o=0;o<i.length;o++)r(o)}(e,n,JSON.parse(c.responseText))},c.open("POST",ajaxurl),c.send(a)})}(n),void n.querySelector("input").dispatchEvent(new Event("input")))},c.open("POST",ajaxurl),c.send(e)}!function(t){for(var e=0;e<t.length;e++)d(t[e],Number(document.querySelector('[name="'.concat(t[e].getAttribute("data-input"),'"]')).value))}(document.querySelectorAll("[data-webcomic-search]")),jQuery(document).on("widget-added widget-updated",function(t,e){if(e[0].id.match(/_mgsisk_webcomic_/))for(var n=e[0].querySelectorAll("[data-webcomic-search]"),a=0;a<n.length;a++)d(n[a],Number(document.querySelector('[name="'.concat(n[a].getAttribute("data-input"),'"]')).value))})}()}();
